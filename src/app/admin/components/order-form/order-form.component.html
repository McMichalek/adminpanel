<h2>{{ editId ? 'Edytuj' : 'Dodaj' }} zamówienie</h2>
<form [formGroup]="form" (ngSubmit)="save()">

  <label>
    Klient:<br />
    <select formControlName="userId">
      <option [value]="null" disabled>-- wybierz użytkownika --</option>
      <option *ngFor="let u of (users$ | async)" [value]="u.id">{{ u.name }}</option>
    </select>
  </label><br /><br />

  <label>
    Restauracja:<br />
    <select formControlName="restaurantId">
      <option [value]="null" disabled>-- wybierz restaurację --</option>
      <option *ngFor="let r of (restaurants$ | async)" [value]="r.id">{{ r.name }}</option>
    </select>
  </label><br /><br />

  <label>
    Dania:<br />
    <select formControlName="dishIds" multiple>
      <option *ngFor="let d of filteredDishes" [value]="d.id">
        {{ d.name }} ({{ getDisplayPrice(d.id) | currency:'PLN' }})
      </option>
    </select>
  </label><br /><br />

  <strong>Cena całkowita:</strong> {{ totalPrice | currency:'PLN' }}<br /><br />

  <button type="submit" [disabled]="form.invalid">Zapisz</button>
  <button type="button" (click)="router.navigate(['/admin/orders'])">Anuluj</button>
</form>
